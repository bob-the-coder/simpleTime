var simpleTime=function(){function e(a,b){for(var c=0;b>0;)a--,a<1&&(a=12,c++),b--;return{val:a,cycles:c}}function f(a,b){for(var c=0;b>0;)a++,a>12&&(a=1,c++),b--;return{val:a,cycles:c}}function g(a,b,c,d){for(var e=0;b>0;)a++,a>l(c,d)&&(a=1,d++,e++,d>12&&(d=1,c++)),b--;return{val:a,cycles:e}}function h(a,b,c,d){for(var e=0;b>0;)a--,0===a&&(d--,e++,0===d&&(d=12,c--),a=l(c,d)),b--;return{val:a,cycles:e}}function i(a,b,c){for(var d=0;b>0;)a++,a>c&&(a=0,d++),b--;return{val:a,cycles:d}}function j(a,b,c){for(var d=0;b>0;)a--,a<0&&(a=c,d++),b--;return{val:a,cycles:d}}function k(a){return"number"==typeof a&&(a%4===0&&(a%100!==0||a%400===0))}function l(a,c){return k(a)&&2===c?29:b[c]}function n(a){return"number"!=typeof a?"00":a<10?"0"+a:""+a}function p(a){return new o(a)}var a=/(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):?(\d{0,2})/,b=[0,31,28,31,30,31,30,31,31,30,31,30,31],o=function(c){var d=c.match(a);if(d){this.year=+d[1],this.month=+d[2]%13;var e=b[this.month]+1;k(this.year)&&2===this.month&&e++,this.day=+d[3]%e,this.hours=(+d[4]||0)%24,this.minutes=(+d[5]||0)%60,this.seconds=(+d[6]||0)%60}else this.year=1,this.month=1,this.day=1,this.hours=0,this.minutes=0,this.seconds=0};return o.prototype.isLeapYear=function(){return k(this.year)},o.prototype.toIsoDate=function(){var a=n(this.month),b=n(this.day),c=n(this.hours),d=n(this.minutes),e=n(this.seconds);return[[this.year,a,b].join("-"),[c,d,e].join(":")].join("T")},o.prototype.setYear=function(a){return a="number"==typeof a?a:this.year,k(this.year)&&!k(a)&&2===this.month&&29===this.day&&(this.day=28),this.year=a,this},o.prototype.setMonth=function(a){if("number"!=typeof a||a<=0)return this;a=Math.floor(Math.abs(a));var c=f(0,a);return this.month=c.val,k(this.year)&&2===this.month&&this.day>29?this.day=29:b[this.month]<this.day&&(this.day=b[this.month]),this},o.prototype.setDay=function(a){if("number"!=typeof a)return this;var c=b[this.month];return 2===this.month&&this.isLeapYear()&&c++,this.day=Math.min(Math.abs(a),c),this},o.prototype.setHour=function(a){return"number"!=typeof a?this:(this.hours=Math.floor(Math.abs(a))%24,this)},o.prototype.setMinutes=function(a){return"number"!=typeof a?this:(this.hours=Math.floor(Math.abs(a))%60,this)},o.prototype.setSeconds=function(a){return"number"!=typeof a?this:(this.hours=Math.floor(Math.abs(a))%60,this)},o.prototype.addYears=function(a){if("number"!=typeof a)return this;var b=this.year+a;return k(this.year)&&!k(b)&&2===this.month&&29===this.day&&(this.day=1,this.month=3),this.year=b,this},o.prototype.addMonths=function(a){if("number"!=typeof a||0===a)return this;var b=a<0;a=Math.floor(Math.abs(a));var d=(this.month,{val:0,cycles:0});return b?(d=e(this.month,a,1,12),this.month=d.val,this.day>l(this.year-d.cycles,this.month)&&(this.day=l(this.year-d.cycles,this.month)),this.addYears(-d.cycles)):(d=f(this.month,a,1,12),this.month=d.val,this.day>l(this.year+d.cycles,this.month)&&(this.day=l(this.year+d.cycles,this.month)),this.addYears(d.cycles)),this},o.prototype.addDays=function(a){if("number"!=typeof a||0===a)return this;var b=a<0;if(a=Math.floor(Math.abs(a)),b){var c=h(this.day,a,this.year,this.month);this.day=c.val,this.addMonths(-c.cycles)}else{var c=g(this.day,a,this.year,this.month);this.day=c.val,this.addMonths(c.cycles)}return this},o.prototype.addHours=function(a){if("number"!=typeof a||0===a)return this;var b=a<0;if(a=Math.floor(Math.abs(a)),b){var c=j(this.hours,a,23);this.hours=c.val,this.addDays(-c.cycles)}else{var c=i(this.hours,a,23);this.hours=c.val,this.addDays(c.cycles)}return this},o.prototype.addMinutes=function(a){if("number"!=typeof a||0===a)return this;var b=a<0;if(a=Math.floor(Math.abs(a)),b){var c=j(this.minutes,a,59);this.minutes=c.val,this.addHours(-c.cycles)}else{var c=i(this.minutes,a,59);this.minutes=c.val,this.addHours(c.cycles)}return this},o.prototype.addSeconds=function(a){if("number"!=typeof a||0===a)return this;var b=a<0;if(a=Math.floor(Math.abs(a)),b){var c=j(this.seconds,a,59);this.seconds=c.val,this.addMinutes(-c.cycles)}else{var c=i(this.seconds,a,59);this.seconds=c.val,this.addMinutes(c.cycles)}return this},{parse:p}}();